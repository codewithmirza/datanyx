(()=>{"use strict";var e={526:(e,t)=>{for(var r=[],n=[],a=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s=0;s<64;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63}},t={};!function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(526);var r=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===r.call(e)};function a(e){return"function"==typeof e}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,p=/\S/;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,u=/\s+/,h=/\s*=/,f=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},g.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var t,r,n,s=this.cache;if(s.hasOwnProperty(e))t=s[e];else{for(var o,p,c,l=this,u=!1;l;){if(e.indexOf(".")>0)for(o=l.view,p=e.split("."),c=0;null!=o&&c<p.length;)c===p.length-1&&(u=i(o,p[c])||(r=o,n=p[c],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(n))),o=o[p[c++]];else o=l.view[e],u=i(l.view,e);if(u){t=o;break}l=l.parent}s[e]=t}return a(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,t){var r=this.templateCache,a=e+":"+(t||y.tags).join(":"),i=void 0!==r,c=i?r.get(a):void 0;return null==c&&(c=function(e,t){if(!e)return[];var r,a,i,c,d=!1,v=[],w=[],x=[],A=!1,b=!1,P="",T=0;function k(){if(A&&!b)for(;x.length;)delete w[x.pop()];else x=[];A=!1,b=!1}function U(e){if("string"==typeof e&&(e=e.split(u,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(s(e[0])+"\\s*"),a=new RegExp("\\s*"+s(e[1])),i=new RegExp("\\s*"+s("}"+e[1]))}U(t||y.tags);for(var S,C,I,_,E,F,D=new g(e);!D.eos();){if(S=D.pos,I=D.scanUntil(r))for(var $=0,j=I.length;$<j;++$)c=_=I.charAt($),function(e,t){return o.call(e,t)}(p,c)?(b=!0,d=!0,P+=" "):(x.push(w.length),P+=_),w.push(["text",_,S,S+1]),S+=1,"\n"===_&&(k(),P="",T=0,d=!1);if(!D.scan(r))break;if(A=!0,C=D.scan(m)||"name",D.scan(l),"="===C?(I=D.scanUntil(h),D.scan(h),D.scanUntil(a)):"{"===C?(I=D.scanUntil(i),D.scan(f),D.scanUntil(a),C="&"):I=D.scanUntil(a),!D.scan(a))throw new Error("Unclosed tag at "+D.pos);if(E=">"==C?[C,I,S,D.pos,P,T,d]:[C,I,S,D.pos],T++,w.push(E),"#"===C||"^"===C)v.push(E);else if("/"===C){if(!(F=v.pop()))throw new Error('Unopened section "'+I+'" at '+S);if(F[1]!==I)throw new Error('Unclosed section "'+F[1]+'" at '+S)}else"name"===C||"{"===C||"&"===C?b=!0:"="===C&&U(I)}if(k(),F=v.pop())throw new Error('Unclosed section "'+F[1]+'" at '+D.pos);return function(e){for(var t,r=[],n=r,a=[],s=0,i=e.length;s<i;++s)switch((t=e[s])[0]){case"#":case"^":n.push(t),a.push(t),n=t[4]=[];break;case"/":a.pop()[5]=t[2],n=a.length>0?a[a.length-1][4]:r;break;default:n.push(t)}return r}(function(e){for(var t,r,n=[],a=0,s=e.length;a<s;++a)(t=e[a])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}(w))}(e,t),i&&r.set(a,c)),c},v.prototype.render=function(e,t,r,n){var a=this.getConfigTags(n),s=this.parse(e,a),i=t instanceof d?t:new d(t,void 0);return this.renderTokens(s,i,r,e,n)},v.prototype.renderTokens=function(e,t,r,n,a){for(var s,i,o,p="",c=0,l=e.length;c<l;++c)o=void 0,"#"===(i=(s=e[c])[0])?o=this.renderSection(s,t,r,n,a):"^"===i?o=this.renderInverted(s,t,r,n,a):">"===i?o=this.renderPartial(s,t,r,a):"&"===i?o=this.unescapedValue(s,t):"name"===i?o=this.escapedValue(s,t,a):"text"===i&&(o=this.rawValue(s)),void 0!==o&&(p+=o);return p},v.prototype.renderSection=function(e,t,r,s,i){var o=this,p="",c=t.lookup(e[1]);if(c){if(n(c))for(var l=0,u=c.length;l<u;++l)p+=this.renderTokens(e[4],t.push(c[l]),r,s,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)p+=this.renderTokens(e[4],t.push(c),r,s,i);else if(a(c)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,s.slice(e[3],e[5]),(function(e){return o.render(e,t,r,i)})))&&(p+=c)}else p+=this.renderTokens(e[4],t,r,s,i);return p}},v.prototype.renderInverted=function(e,t,r,a,s){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,r,a,s)},v.prototype.indentPartial=function(e,t,r){for(var n=t.replace(/[^ \t]/g,""),a=e.split("\n"),s=0;s<a.length;s++)a[s].length&&(s>0||!r)&&(a[s]=n+a[s]);return a.join("\n")},v.prototype.renderPartial=function(e,t,r,n){if(r){var s=this.getConfigTags(n),i=a(r)?r(e[1]):r[e[1]];if(null!=i){var o=e[6],p=e[5],c=e[4],l=i;0==p&&c&&(l=this.indentPartial(i,c,o));var u=this.parse(l,s);return this.renderTokens(u,t,r,l,n)}}},v.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},v.prototype.escapedValue=function(e,t,r){var n=this.getConfigEscape(r)||y.escape,a=t.lookup(e[1]);if(null!=a)return"number"==typeof a&&n===y.escape?String(a):n(a)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return n(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!n(e)?e.escape:void 0};var y={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){w.templateCache=e},get templateCache(){return w.templateCache}},w=new v;y.clearCache=function(){return w.clearCache()},y.parse=function(e,t){return w.parse(e,t)},y.render=function(e,t,r,a){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(s=e)?"array":typeof s)+'" was given as the first argument for mustache#render(template, view, partials)');var s;return w.render(e,t,r,a)},y.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},y.Scanner=g,y.Context=d,y.Writer=v;const x=y;var A,b;(b=A||(A={})).String="str",b.Bool="bool",b.Float16="float16",b.Float32="float32",b.Int16="int16",b.Int32="int32",b.Int64="int64",b.Int8="int8",b.Uint16="uint16",b.Uint32="uint32",b.Uint64="uint64",b.Uint8="uint8";const P=Object.getPrototypeOf(Uint8Array);function T(e){return Array.isArray(e)||e instanceof P}function k(e){return e instanceof P?e.length:e.flat(1/0).reduce(((e,t)=>e+(t instanceof P?t.length:1)),0)}function U(e,t){if(!T(t)){switch(e){case A.Bool:if("boolean"==typeof t)return;break;case A.Float16:case A.Float32:if("number"==typeof t)return;break;case A.Int8:case A.Uint8:case A.Int16:case A.Uint16:case A.Int32:case A.Uint32:if(Number.isInteger(t))return;break;case A.Int64:case A.Uint64:if("bigint"==typeof t)return;break;case A.String:if("string"==typeof t)return}throw new Error(`unexpected type "${e}" with value "${t}".`)}t.forEach((t=>U(e,t)))}function S(e,t){if(T(t))return[...t].map((t=>S(e,t)));switch(e){case A.String:case A.Bool:case A.Float16:case A.Float32:case A.Int8:case A.Uint8:case A.Int16:case A.Uint16:case A.Uint32:case A.Int32:return t;case A.Int64:case A.Uint64:return t.toString()}throw new Error(`unexpected type "${e}" with value "${t}".`)}function C(e,t){if(T(t))return t.map((t=>C(e,t)));switch(e){case A.String:case A.Bool:case A.Float16:case A.Float32:case A.Int8:case A.Uint8:case A.Int16:case A.Uint16:case A.Uint32:case A.Int32:return t;case A.Int64:case A.Uint64:return BigInt(t)}throw new Error(`unexpected type "${e}" with value "${t}".`)}class I{type;value;name;shape;constructor(e,t,r={}){this.type=e,this.value=t,r.validate&&U(e,this.value),void 0===r.shape?T(this.value)?this.shape=[k(t)]:this.shape=[]:this.shape=r.shape,r.validate&&function(e,t){if(0===e.length&&!T(t))return;const r=e.reduce(((e,t)=>{if(!Number.isInteger(t))throw new Error(`expected shape to be array-like of integers but found non-integer element "${t}"`);return e*t}),1);if(r!=k(t))throw new Error(`invalid shape: expected ${r} elements for shape ${e} but value array has length ${t.length}`)}(this.shape,this.value),this.name=r.name||null}static fromJSON(e){const{type:t,shape:r,value:n,b64Value:a,name:s}=e,i={shape:r,name:s};if(void 0!==a){const e=function(e,t){const r=atob(e),n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);const a=new DataView(n.buffer).buffer;switch(t){case"float32":return new Float32Array(a);case"float64":return new Float64Array(a);case"int32":return new Int32Array(a);case"int64":return new BigInt64Array(a);default:throw Error(`invalid data type for base64 input: ${t}`)}}(a,t)[0];return new I(t,e,i)}return new I(t,C(t,n),i)}toJSON(){return{type:this.type,shape:this.shape,name:this.name,value:S(this.type,this.value)}}}const _="A chat between a curious human and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the human's questions.",E="Write code to solve the following coding problem that obeys the constraints and passes the example test cases. Please wrap your code answer using   ```:",F=(e,t)=>[{role:"system",content:e},{role:"user",content:t}],D=(e,t)=>{let r=e.generated_text.value[0];if(t)for(const e in t)r=r.replace(t[e],"");return r},$=e=>(e.inputsDefaultsStream={max_tokens:1800,...e.inputsDefaultsStream||{}},e.inputsDefaults={max_tokens:256,...e.inputsDefaults||{}},e.preProcessingArgs={promptTemplate:"bare",defaultContext:_,defaultPromptMessages:F,...e.preProcessingArgs||{}},{type:"triton",...e}),j=e=>(e.inputsDefaultsStream={max_tokens:512,...e.inputsDefaultsStream||{}},e.inputsDefaults={max_tokens:512,...e.inputsDefaults||{}},e.preProcessingArgs={promptTemplate:"bare",defaultContext:_,defaultPromptMessages:F,...e.preProcessingArgs||{}},{type:"vllm",generateTensorsFunc:e=>(e=>{const t={};e.temperature&&(t.temperature=e.temperature),e.max_tokens&&(t.max_tokens=e.max_tokens);const r=[new I(A.String,[e.prompt],{shape:[1],name:"text_input"}),new I(A.String,[JSON.stringify(t)],{shape:[1],name:"sampling_parameters"})];return e.stream&&r.push(new I(A.Bool,!0,{name:"stream"})),e.image&&(r.push(new I(A.Uint8,e.image,{shape:[1,e.image.length],name:"image"})),r.push(new I(A.Bool,!0,{name:"exclude_input_in_output"}))),r})(e),postProcessingFunc:(e,t)=>e.name.value[0].slice(t.prompt.length),postProcessingFuncStream:(e,t,r)=>e.name.value[0],...e}),O=(e,t,r)=>({type:"tgi",inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:e,defaultContext:t,defaultPromptMessages:F},postProcessingFunc:(e,t)=>D(e,r),postProcessingFuncStream:(e,t,n)=>D(e,r)});x.parse,x.render,TransformStream,TransformStream,O("deepseek",E,["<|EOT|>"]),O("bare",E),O("inst",_),O("openchat",_),O("chatml",_,["<|im_end|>"]),O("orca-hashes",_),O("llama2",_),O("zephyr",_),O("mistral-instruct",_),O("mistral-instruct",_),O("gemma",_),O("hermes2-pro",_),O("starling",_),O("llama2",E),j({preProcessingArgs:{promptTemplate:"phi-2",defaultPromptMessages:(e,t)=>[{role:"question",content:t}]}}),j({preProcessingArgs:{promptTemplate:"sqlcoder"}}),j({preProcessingArgs:{defaultContext:""}}),j({preProcessingArgs:{promptTemplate:"falcon"}}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({preProcessingArgs:{promptTemplate:"tinyllama"}}),j({preProcessingArgs:{promptTemplate:"openchat-alt"}}),j({preProcessingArgs:{promptTemplate:"gemma"}}),j({preProcessingArgs:{promptTemplate:"gemma"}}),j({preProcessingArgs:{promptTemplate:"mistral-instruct"}}),j({experimental:!0,preProcessingArgs:{promptTemplate:"mistral-instruct"}}),j({preProcessingArgs:{promptTemplate:"llama2"}}),j({experimental:!0,inputsDefaultsStream:{max_tokens:1800},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"mistral-instruct"}}),j({preProcessingArgs:{promptTemplate:"llama3"}}),j({experimental:!0}),j({experimental:!0}),j({preProcessingArgs:{promptTemplate:"chatml"}}),j({experimental:!0}),$({inputsDefaultsStream:{max_tokens:2500},preProcessingArgs:{promptTemplate:"llama2"}}),$({preProcessingArgs:{promptTemplate:"llama2"}}),$({preProcessingArgs:{promptTemplate:"mistral-instruct"}}),Error})();